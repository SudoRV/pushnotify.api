{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/jWTFcm/clients/pushnotify.api/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { FaSyncAlt } from \"react-icons/fa\";\nimport { RefreshCw } from \"lucide-react\";\nimport { jwtDecode } from \"jwt-decode\";\nimport generateTestToken from \"../functions/generateTestToken\";\nimport UsageGraph from \"../components/ApiStats\";\nimport \"../styles/Dashboard.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"https://inlmqkmxchdb5df6t3gjdqzpqi0jrfmc.lambda-url.eu-north-1.on.aws/\";\nlet dummyData = {\n  \"xKeys\": [\"0\", \"09\", \"10\", \"11\", \"14\", \"16\"],\n  \"usage\": [{\n    \"xKey\": \"0\",\n    \"time\": \"00:00:00\",\n    \"floatXKey\": 0,\n    \"calls\": 0\n  }]\n};\nconst Dashboard = () => {\n  _s();\n  const [userData, setUserData] = useState(null);\n  const [transaction, setTransaction] = useState(null);\n  const [testToken, setTestToken] = useState(\"\");\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [tokenExpiry, setTokenExpiry] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(\"\");\n  useEffect(() => {\n    try {\n      const storedData = JSON.parse(localStorage.getItem(\"creds\"));\n      const transactionData = JSON.parse(localStorage.getItem(\"t_data\"));\n      if (storedData) setUserData(storedData);\n      if (transactionData) {\n        if (transactionData[\"transaction-id\"]) {\n          setTransaction(transactionData);\n        }\n        if (transactionData[\"access-token\"]) setAccessToken(transactionData[\"access-token\"]);\n        setTestToken(transactionData[\"test-token\"]);\n        updateTokenExpiry(transactionData[\"test-token\"]);\n      }\n    } catch (error) {\n      console.error(\"Error parsing local storage data:\", error);\n    }\n  }, []);\n\n  //experiment \n  // Add at the top inside Dashboard component\n  const [deviceList, setDeviceList] = useState([]);\n  const [range, setRange] = useState(\"1d\");\n  const [apiMeta, setApiMeta] = useState({});\n  const [graphData, setGraphData] = useState(dummyData);\n  let lastFilter;\n  useEffect(() => {\n    if (userData) fetchAPIMeta();\n  }, [range, userData]);\n\n  // Function to fetch metadata and devices\n  const fetchAPIMeta = async () => {\n    try {\n      const today = new Date().getDate();\n      const urlReq = `${BASE_URL}?req=api-stats&range=${range}&day=${today}&user-id=${userData[\"user-id\"]}`;\n      const response = await fetch(urlReq);\n      const data = await response.json();\n      const rawGraph = data.usage;\n      console.log(data[\"api-refreshed-at\"]);\n      if (data[\"access-token\"]) {\n        const temp = data;\n        delete temp[\"usage\"];\n        setApiMeta(temp);\n      }\n      if (Object.keys(rawGraph).length <= 0) {\n        setGraphData(dummyData);\n        return;\n      }\n      ;\n      let graph = {};\n      if (range === \"1d\") {\n        const graphData = generateGraphData(rawGraph[today]);\n\n        //add 0th dummy data \n        const dummy = {\n          xKey: 0,\n          time: \"00:00:00\",\n          floatXKey: 0.0,\n          calls: 0\n        };\n        graphData.unshift(dummy);\n        let xKeys = [...new Set(graphData.map(item => item[\"xKey\"]))];\n        xKeys = xKeys.sort((a, b) => parseInt(a) - parseInt(b));\n        xKeys.push((parseInt(xKeys[xKeys.length - 1]) + 1).toString().padStart(2, '0'));\n        graph = {\n          xKeys: xKeys,\n          usage: graphData\n        };\n      } else {\n        const xKeys = Object.keys(rawGraph);\n        let mergedRawGraph = [];\n        xKeys.forEach(day => {\n          mergedRawGraph.push(...rawGraph[day]);\n        });\n        xKeys.unshift(1);\n        const graphData = generateGraphDataMonth(mergedRawGraph);\n\n        //add 0th dummy data \n        const dummy = {\n          xKey: 1,\n          time: \"00:00:00\",\n          floatXKey: 0,\n          calls: 0\n        };\n        graphData.unshift(dummy);\n        graph = {\n          xKeys: xKeys,\n          usage: graphData\n        };\n      }\n      setGraphData(graph);\n      //setDeviceList(data.devices);\n    } catch (error) {\n      console.error(\"Failed to fetch API metadata\", error);\n    }\n  };\n  function generateGraphData(rawGraph) {\n    let index = 0;\n    let lastHour = 0;\n    return rawGraph.map(item => {\n      const date = new Date(item.timestamp);\n      const hours = date.getHours();\n      const minutes = date.getMinutes();\n      const seconds = date.getSeconds();\n      if (lastHour !== hours) {\n        index++;\n        lastHour = hours;\n      }\n      ;\n      return {\n        xKey: hours.toString().padStart(2, '0'),\n        time: date.toLocaleTimeString('en-US', {\n          hour12: false\n        }),\n        floatXKey: parseFloat(`${index}.${(hours + minutes / 60 + seconds / 3600).toFixed(6).split(\".\")[1]}`),\n        calls: item.calls\n      };\n    });\n  }\n  function generateGraphDataMonth(rawGraph) {\n    let index = -1;\n    let lastDay = null;\n    return rawGraph.map(item => {\n      const date = new Date(item.timestamp);\n      const day = date.getDate();\n      if (lastDay !== day) {\n        index++;\n        lastDay = day;\n      }\n      const hours = date.getHours();\n      const minutes = date.getMinutes();\n      const seconds = date.getSeconds();\n      const timeFraction = (hours + minutes / 60 + seconds / 3600) / 24;\n      return {\n        xKey: day.toString(),\n        time: date.toLocaleTimeString('en-US', {\n          hour12: false\n        }),\n        floatXKey: parseFloat(`${index}.${timeFraction.toFixed(6).split(\".\")[1]}`),\n        calls: item.calls\n      };\n    });\n  }\n\n  // Function to update token expiry & start timer\n  const updateTokenExpiry = token => {\n    if (!token) return;\n    try {\n      const decoded = jwtDecode(token);\n      const expiryTime = decoded.exp * 1000; // Convert to milliseconds\n      setTokenExpiry(expiryTime);\n    } catch (error) {\n      console.error(\"Invalid token:\", error);\n    }\n  };\n\n  // Timer Effect\n  useEffect(() => {\n    if (!tokenExpiry) return;\n    const interval = setInterval(() => {\n      const now = Date.now();\n      if (now >= tokenExpiry) {\n        setTimeLeft(\"Expired\");\n        clearInterval(interval);\n      } else {\n        const remainingTime = Math.max(0, (tokenExpiry - now) / 1000);\n        const minutes = Math.floor(remainingTime / 60);\n        const seconds = Math.floor(remainingTime % 60);\n        setTimeLeft(`${minutes}m ${seconds}s`);\n      }\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [tokenExpiry]);\n  const generateAccessToken = async () => {\n    if (!localStorage.getItem(\"creds\")) {\n      await alert(\"Please login first.\");\n      window.open(\"/login?close=auto\");\n      return;\n    } else if (accessToken) {\n      navigator.clipboard.writeText(accessToken);\n    } else {\n      //get access token\n\n      // Construct URL for generating a new test token              \n      const url = `${BASE_URL}?req=access-token&user=${userData[\"user-id\"]}`;\n      try {\n        const response = await fetch(url);\n        if (!response.ok) throw new Error(\"Failed to fetch\");\n        const data = await response.json();\n        if (!data[\"access-token\"]) throw new Error(\"Invalid response\");\n\n        // Save new test token in local storage        \n        setAccessToken(data[\"access-token\"]);\n        localStorage.setItem(\"t_data\", JSON.stringify({\n          ...JSON.parse(localStorage.getItem(\"t_data\") || \"{}\"),\n          \"access-token\": data[\"access-token\"]\n        }));\n        return {\n          error: null,\n          token: data[\"access-token\"]\n        };\n      } catch (error) {\n        console.error(\"Error fetching access token:\", error);\n        return {\n          error: \"Failed to fetch access token\"\n        };\n      }\n    }\n  };\n  const makePayment = async () => {\n    await alert(\"Redirecting to Payment Page\");\n    const paymentWindow = window.open(\"/payment?amt=100\", \"_blank\");\n    const checkPageClosed = setInterval(() => {\n      if (paymentWindow.closed) {\n        clearInterval(checkPageClosed);\n        window.location.reload();\n      }\n    }, 500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard w100 fg1\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-info card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDC64 User Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this), userData ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Username:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 19\n          }, this), \" \", userData.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 19\n          }, this), \" \", userData.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"User ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 19\n          }, this), \" \", userData[\"user-id\"]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: [\"No user data found. \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/login\",\n          children: \"Please login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 54\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transaction-history card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCB3 Transaction History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this), transaction ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Amount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 19\n          }, this), \" \\u20B9\", transaction.amount || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 19\n          }, this), \" \", new Date(transaction[\"timestamp\"]).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Transaction ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 19\n          }, this), \" \", transaction[\"transaction-id\"]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: [\"No transactions found. \", /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            all: \"unset\",\n            color: \"blue\",\n            textDecoration: \"underline\"\n          },\n          onClick: makePayment,\n          children: \"Make Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"access-token-section card\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          float: \"left\",\n          fontSize: \"14px\",\n          color: timeLeft === \"Expired\" ? \"red\" : \"green\",\n          fontWeight: \"bold\"\n        },\n        children: [\"Expiry : \", timeLeft || \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD11 Test Token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: testToken ? testToken : \"No test token generated yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"generate-btn\",\n        onClick: async () => {\n          const result = await generateTestToken(testToken);\n          setTestToken(result.token);\n          updateTokenExpiry(result.token);\n          navigator.clipboard.writeText(result.token);\n        },\n        children: timeLeft === \"Expired\" ? \"Regenerate Token\" : testToken ? \"Copy Token\" : \"Generate Token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"access-token-section card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD11 Access Token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: accessToken ? accessToken : \"No access token generated yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          gap: \"8px\"\n        },\n        className: \"flex jcc aic \",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"generate-btn\",\n          onClick: generateAccessToken,\n          children: accessToken ? \"Copy Token\" : \"Get Access Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this), accessToken ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.open(\"/payment?close=auto&amt=1\"),\n          className: \"buy-premium generate-btn\",\n          children: transaction !== null && transaction !== void 0 && transaction.amount ? (transaction === null || transaction === void 0 ? void 0 : transaction.amount) < 1 ? \"Extend Limit\" : \"Unlimited\" : \"Extend Limit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 29\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"api-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex jcsb aic\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"API Statistics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"refresh-btn\",\n          onClick: () => {\n            fetchAPIMeta();\n          },\n          title: \"Refresh\",\n          children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 22,\n            strokeWidth: 1.4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"token-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"token-line\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Access Token:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n            children: apiMeta['access-token']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"created-line\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Created At:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 13\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: new Date(apiMeta[\"api-created-at\"]).toLocaleDateString('en-GB')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 13\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: new Date(apiMeta[\"api-created-at\"]).toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"created-line\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Refresh At:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 13\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: new Date(apiMeta[\"api-refreshed-at\"]).toLocaleDateString('en-GB')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 13\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: new Date(apiMeta[\"api-refreshed-at\"]).toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quota-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex fdc text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Quota\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"1000\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex fdc text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Used\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: apiMeta.calls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex fdc text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Remaining\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: 1000 - (apiMeta.calls || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRange(\"1d\"),\n          className: range === \"1d\" ? \"active\" : \"\",\n          children: \"Day\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRange(\"1w\"),\n          className: range === \"1w\" ? \"active\" : \"\",\n          children: \"Week\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRange(\"1m\"),\n          className: range === \"1m\" ? \"active\" : \"\",\n          children: \"Month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"graph\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"API Usage (\", range, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(UsageGraph, {\n          data: graphData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 273,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"BNo/DGxeWc8t/jjFpGZQV0rix+c=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","FaSyncAlt","RefreshCw","jwtDecode","generateTestToken","UsageGraph","jsxDEV","_jsxDEV","BASE_URL","dummyData","Dashboard","_s","userData","setUserData","transaction","setTransaction","testToken","setTestToken","accessToken","setAccessToken","tokenExpiry","setTokenExpiry","timeLeft","setTimeLeft","storedData","JSON","parse","localStorage","getItem","transactionData","updateTokenExpiry","error","console","deviceList","setDeviceList","range","setRange","apiMeta","setApiMeta","graphData","setGraphData","lastFilter","fetchAPIMeta","today","Date","getDate","urlReq","response","fetch","data","json","rawGraph","usage","log","temp","Object","keys","length","graph","generateGraphData","dummy","xKey","time","floatXKey","calls","unshift","xKeys","Set","map","item","sort","a","b","parseInt","push","toString","padStart","mergedRawGraph","forEach","day","generateGraphDataMonth","index","lastHour","date","timestamp","hours","getHours","minutes","getMinutes","seconds","getSeconds","toLocaleTimeString","hour12","parseFloat","toFixed","split","lastDay","timeFraction","token","decoded","expiryTime","exp","interval","setInterval","now","clearInterval","remainingTime","Math","max","floor","generateAccessToken","alert","window","open","navigator","clipboard","writeText","url","ok","Error","setItem","stringify","makePayment","paymentWindow","checkPageClosed","closed","location","reload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","username","email","href","amount","toLocaleString","style","all","color","textDecoration","onClick","float","fontSize","fontWeight","result","gap","title","size","strokeWidth","toLocaleDateString","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/jWTFcm/clients/pushnotify.api/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { FaSyncAlt } from \"react-icons/fa\";\nimport { RefreshCw } from \"lucide-react\";\n\nimport { jwtDecode } from \"jwt-decode\";\nimport generateTestToken from \"../functions/generateTestToken\";\nimport UsageGraph from \"../components/ApiStats\";\n\nimport \"../styles/Dashboard.scss\";\n\nconst BASE_URL = \"https://inlmqkmxchdb5df6t3gjdqzpqi0jrfmc.lambda-url.eu-north-1.on.aws/\";\n\nlet dummyData = {\n  \"xKeys\":[\"0\",\"09\",\"10\",\"11\",\"14\",\"16\"],\n  \"usage\":[{\"xKey\":\"0\",\"time\":\"00:00:00\",\"floatXKey\":0,\"calls\":0}\n  ]\n};\n\n\nconst Dashboard = () => {\n  const [userData, setUserData] = useState(null);\n  const [transaction, setTransaction] = useState(null);\n  const [testToken, setTestToken] = useState(\"\");\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [tokenExpiry, setTokenExpiry] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(\"\");\n\n  useEffect(() => {\n    try {\n      const storedData = JSON.parse(localStorage.getItem(\"creds\"));\n      const transactionData = JSON.parse(localStorage.getItem(\"t_data\"));\n\n      if (storedData) setUserData(storedData);\n      if (transactionData) {\n        if (transactionData[\"transaction-id\"]) {\n          setTransaction(transactionData);\n        }\n        if (transactionData[\"access-token\"]) setAccessToken(transactionData[\"access-token\"]);\n        setTestToken(transactionData[\"test-token\"]);\n        updateTokenExpiry(transactionData[\"test-token\"]);\n      }\n    } catch (error) {\n      console.error(\"Error parsing local storage data:\", error);\n    }\n  }, []);\n  \n  \n  \n  //experiment \n// Add at the top inside Dashboard component\nconst [deviceList, setDeviceList] = useState([]);\nconst [range, setRange] = useState(\"1d\");\nconst [apiMeta, setApiMeta] = useState({});\nconst [graphData, setGraphData] = useState(dummyData);\n\nlet lastFilter;\n\nuseEffect(()=>{\n  if(userData) fetchAPIMeta();\n},[range, userData])\n\n// Function to fetch metadata and devices\nconst fetchAPIMeta = async () => {\n  try {   \n    const today = new Date().getDate();     \n    const urlReq = `${BASE_URL}?req=api-stats&range=${range}&day=${today}&user-id=${userData[\"user-id\"]}`;\n         \n    const response = await fetch(urlReq);    \n    const data = await response.json();        \n    const rawGraph = data.usage; \n        \n    console.log(data[\"api-refreshed-at\"])\n             \n    if(data[\"access-token\"]) {\n        const temp = data;\n        delete temp[\"usage\"];\n        setApiMeta(temp);\n    }                        \n    if(Object.keys(rawGraph).length <= 0){  \n      setGraphData(dummyData);     \n      return;\n    };\n           \n    let graph = {};        \n    if(range===\"1d\"){                \n      const graphData = generateGraphData(rawGraph[today]); \n      \n      //add 0th dummy data \n      const dummy = {\n        xKey: 0,          \n        time: \"00:00:00\",\n        floatXKey : 0.0,       \n        calls: 0,\n      }      \n      graphData.unshift(dummy);\n           \n      let xKeys = [...new Set(graphData.map((item) => item[\"xKey\"]))];\n      xKeys = xKeys.sort((a, b) => parseInt(a) - parseInt(b)); \n      xKeys.push((parseInt(xKeys[xKeys.length - 1]) + 1).toString().padStart(2, '0'));          \n                   \n      graph = {\n        xKeys: xKeys,\n        usage: graphData,\n      } \n                         \n    } else {          \n      const xKeys = Object.keys(rawGraph);             \n            \n      let mergedRawGraph = [];\n      xKeys.forEach((day)=>{\n        mergedRawGraph.push(...rawGraph[day]);\n      })                 \n      xKeys.unshift(1);\n                         \n      const graphData = generateGraphDataMonth(mergedRawGraph); \n      \n      //add 0th dummy data \n      const dummy = {\n        xKey: 1,          \n        time: \"00:00:00\",\n        floatXKey : 0,       \n        calls: 0,\n      }      \n      graphData.unshift(dummy);\n            \n      graph = {\n        xKeys: xKeys,\n        usage: graphData,\n      }                \n    }              \n    \n    setGraphData(graph);\n    //setDeviceList(data.devices);\n  } catch (error) {\n    console.error(\"Failed to fetch API metadata\", error);\n  }\n};\n\n\n\nfunction generateGraphData(rawGraph) {\n  let index = 0;\n  let lastHour = 0;\n  return rawGraph.map(item => {\n    const date = new Date(item.timestamp);\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n    \n    if(lastHour !== hours){\n        index++;\n        lastHour = hours;\n    };           \n\n    return {\n      xKey: hours.toString().padStart(2, '0'),          \n      time: date.toLocaleTimeString('en-US',  { hour12: false }),\n      floatXKey : parseFloat(`${index}.${((hours + minutes / 60 + seconds / 3600).toFixed(6)).split(\".\")[1]}`),       \n      calls: item.calls,      \n    };             \n  });    \n}\n\n\nfunction generateGraphDataMonth(rawGraph) {\n  let index = -1;\n  let lastDay = null;\n\n  return rawGraph.map(item => {\n    const date = new Date(item.timestamp);\n    const day = date.getDate();\n    \n    if (lastDay !== day) {\n      index++;\n      lastDay = day;\n    }\n\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n\n    const timeFraction = (hours + minutes / 60 + seconds / 3600) / 24;\n\n    return {\n      xKey: day.toString(),\n      time: date.toLocaleTimeString('en-US', { hour12: false }), \n      floatXKey: parseFloat(`${index}.${(timeFraction.toFixed(6).split(\".\")[1])}`),     \n      calls: item.calls,\n    };\n  });\n}\n\n\n  // Function to update token expiry & start timer\n  const updateTokenExpiry = (token) => {\n    if (!token) return;\n    try {\n      const decoded = jwtDecode(token);\n      const expiryTime = decoded.exp * 1000; // Convert to milliseconds\n      setTokenExpiry(expiryTime);\n    } catch (error) {\n      console.error(\"Invalid token:\", error);\n    }\n  };\n\n  // Timer Effect\n  useEffect(() => {\n    if (!tokenExpiry) return;\n\n    const interval = setInterval(() => {\n      const now = Date.now();\n      if (now >= tokenExpiry) {\n        setTimeLeft(\"Expired\");\n        clearInterval(interval);\n      } else {\n        const remainingTime = Math.max(0, (tokenExpiry - now) / 1000);\n        const minutes = Math.floor(remainingTime / 60);\n        const seconds = Math.floor(remainingTime % 60);\n        setTimeLeft(`${minutes}m ${seconds}s`);\n      }\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [tokenExpiry]);\n\n  const generateAccessToken = async () => {\n    if (!localStorage.getItem(\"creds\")) {\n      await alert(\"Please login first.\");\n      window.open(\"/login?close=auto\");\n      return;\n    } else if (accessToken) {\n      navigator.clipboard.writeText(accessToken);\n    } else {\n      //get access token\n\n      // Construct URL for generating a new test token              \n      const url = `${BASE_URL}?req=access-token&user=${userData[\"user-id\"]}`;\n\n      try {\n        const response = await fetch(url);\n        if (!response.ok) throw new Error(\"Failed to fetch\");\n        const data = await response.json();\n        if (!data[\"access-token\"]) throw new Error(\"Invalid response\");\n\n        // Save new test token in local storage        \n        setAccessToken(data[\"access-token\"]);\n\n        localStorage.setItem(\"t_data\", JSON.stringify({\n          ...JSON.parse(localStorage.getItem(\"t_data\") || \"{}\"),\n          \"access-token\": data[\"access-token\"]\n        }));\n\n        return { error: null, token: data[\"access-token\"] };\n      } catch (error) {\n        console.error(\"Error fetching access token:\", error);\n        return { error: \"Failed to fetch access token\" };\n      }\n    }\n  };\n\n  const makePayment = async () => {\n    await alert(\"Redirecting to Payment Page\");\n    const paymentWindow = window.open(\"/payment?amt=100\", \"_blank\");\n    const checkPageClosed = setInterval(() => {\n      if (paymentWindow.closed) {\n        clearInterval(checkPageClosed);\n        window.location.reload();\n      }\n    }, 500);\n  };\n\n  return (        \n    <div className=\"dashboard w100 fg1\">\n        <h2>User Dashboard</h2>\n\n        {/* User Info */}\n        <div className=\"user-info card\">\n          <h3>ðŸ‘¤ User Information</h3>\n          {userData ? (\n            <ul>\n              <li><strong>Username:</strong> {userData.username}</li>\n              <li><strong>Email:</strong> {userData.email}</li>\n              <li><strong>User ID:</strong> {userData[\"user-id\"]}</li>\n            </ul>\n          ) : (\n            <p className=\"error\">No user data found. <a href=\"/login\">Please login</a></p>\n          )}\n        </div>\n\n        {/* Transaction History */}\n        <div className=\"transaction-history card\">\n          <h3>ðŸ’³ Transaction History</h3>\n          {transaction ? (\n            <ul>\n              <li><strong>Amount:</strong> â‚¹{transaction.amount || \"N/A\"}</li>\n              <li><strong>Time:</strong> {new Date(transaction[\"timestamp\"]).toLocaleString()}</li>\n              <li><strong>Transaction ID:</strong> {transaction[\"transaction-id\"]}</li>\n            </ul>\n          ) : (\n            <p className=\"error\">\n              No transactions found. <button style={{ all: \"unset\", color: \"blue\", textDecoration: \"underline\" }} onClick={makePayment}>Make Payment</button>\n            </p>\n          )}\n        </div>\n\n        {/* Test Token Section */}\n        <div className=\"access-token-section card\">\n          <span style={{ float: \"left\", fontSize: \"14px\", color: timeLeft === \"Expired\" ? \"red\" : \"green\", fontWeight: \"bold\" }}>Expiry : {timeLeft || \"...\"}</span>\n          <h3>ðŸ”‘ Test Token</h3>\n          <p>{testToken ? testToken : \"No test token generated yet\"}</p>\n\n          <button\n            className=\"generate-btn\"\n            onClick={async () => {\n              const result = await generateTestToken(testToken);\n              setTestToken(result.token);\n              updateTokenExpiry(result.token);\n              navigator.clipboard.writeText(result.token);\n            }}\n          >\n            {timeLeft === \"Expired\" ? \"Regenerate Token\" : (testToken ? \"Copy Token\" : \"Generate Token\")}\n          </button>\n        </div>\n\n        {/* Access Token Section */}\n        <div className=\"access-token-section card\">\n          <h3>ðŸ”‘ Access Token</h3>\n          <p>{accessToken ? accessToken : \"No access token generated yet\"}</p>\n\n          <div style={{ gap: \"8px\" }} className=\"flex jcc aic \">\n            <button className=\"generate-btn\" onClick={generateAccessToken}>\n              {accessToken ? \"Copy Token\" : \"Get Access Token\"}\n            </button>\n\n            {accessToken ? (<button onClick={() => window.open(\"/payment?close=auto&amt=1\")} className=\"buy-premium generate-btn\">\n              {transaction?.amount ? (transaction?.amount < 1 ? \"Extend Limit\" : \"Unlimited\") : \"Extend Limit\"}\n            </button>) : \"\"}\n          </div>\n        </div>\n        \n\n{/* Professional API Stats UI */}\n<div className=\"api-stats\">\n      <div className=\"flex jcsb aic\">\n        <h2>API Statistics</h2>\n        <button className=\"refresh-btn\" onClick={()=>{fetchAPIMeta()}} title=\"Refresh\">\n          <RefreshCw size={22} strokeWidth={1.4} />\n        </button>\n      </div>\n      \n\n      <div className=\"token-info\">\n        <div className=\"token-line\">\n          <span>Access Token:</span>\n          <code>{apiMeta['access-token']}</code>          \n        </div>\n\n        <div className=\"created-line\">\n          <div>\n            <span>Created At:</span> <strong>{new Date(apiMeta[\"api-created-at\"]).toLocaleDateString('en-GB')}</strong>\n          </div>\n          <div>\n            <span>Time:</span> <strong>{new Date(apiMeta[\"api-created-at\"]).toLocaleTimeString()}</strong>\n          </div>\n        </div>\n        \n        <div className=\"created-line\">\n          <div>\n            <span>Refresh At:</span> <strong>{new Date(apiMeta[\"api-refreshed-at\"]).toLocaleDateString('en-GB')}</strong>\n          </div>\n          <div>\n            <span>Time:</span> <strong>{new Date(apiMeta[\"api-refreshed-at\"]).toLocaleTimeString()}</strong>\n          </div>\n        </div>  \n            \n      </div>\n            \n      <div className=\"quota-info\">\n        <div className=\"flex fdc text-center\">\n          <span>Quota</span> <strong>1000</strong>\n        </div>\n        \n        <div className=\"flex fdc text-center\">\n          <span>Used</span> <strong>{apiMeta.calls}</strong>\n        </div>\n        \n        <div className=\"flex fdc text-center\">\n          <span>Remaining</span> <strong>{1000-(apiMeta.calls || 0)}</strong>\n        </div>\n      </div>\n\n      <div className=\"filter-buttons\">\n        <button onClick={() => setRange(\"1d\")} className={range === \"1d\" ? \"active\" : \"\"}>Day</button>\n        <button onClick={() => setRange(\"1w\")} className={range === \"1w\" ? \"active\" : \"\"}>Week</button>\n        <button onClick={() => setRange(\"1m\")} className={range === \"1m\" ? \"active\" : \"\"}>Month</button>\n      </div>\n\n      <div className=\"graph\">\n        <h4>API Usage ({range})</h4>\n        \n        <UsageGraph data={graphData} />\n        \n      </div>\n    </div>\n        \n\n    </div>\n  );\n};\n\nexport default Dashboard;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,gBAAgB;AAC1C,SAASC,SAAS,QAAQ,cAAc;AAExC,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,iBAAiB,MAAM,gCAAgC;AAC9D,OAAOC,UAAU,MAAM,wBAAwB;AAE/C,OAAO,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,QAAQ,GAAG,wEAAwE;AAEzF,IAAIC,SAAS,GAAG;EACd,OAAO,EAAC,CAAC,GAAG,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC;EACtC,OAAO,EAAC,CAAC;IAAC,MAAM,EAAC,GAAG;IAAC,MAAM,EAAC,UAAU;IAAC,WAAW,EAAC,CAAC;IAAC,OAAO,EAAC;EAAC,CAAC;AAEjE,CAAC;AAGD,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACmB,WAAW,EAAEC,cAAc,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACuB,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAI;MACF,MAAMwB,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;MAC5D,MAAMC,eAAe,GAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;MAElE,IAAIJ,UAAU,EAAEX,WAAW,CAACW,UAAU,CAAC;MACvC,IAAIK,eAAe,EAAE;QACnB,IAAIA,eAAe,CAAC,gBAAgB,CAAC,EAAE;UACrCd,cAAc,CAACc,eAAe,CAAC;QACjC;QACA,IAAIA,eAAe,CAAC,cAAc,CAAC,EAAEV,cAAc,CAACU,eAAe,CAAC,cAAc,CAAC,CAAC;QACpFZ,YAAY,CAACY,eAAe,CAAC,YAAY,CAAC,CAAC;QAC3CC,iBAAiB,CAACD,eAAe,CAAC,YAAY,CAAC,CAAC;MAClD;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IAC3D;EACF,CAAC,EAAE,EAAE,CAAC;;EAIN;EACF;EACA,MAAM,CAACE,UAAU,EAAEC,aAAa,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACoC,KAAK,EAAEC,QAAQ,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACsC,OAAO,EAAEC,UAAU,CAAC,GAAGvC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACwC,SAAS,EAAEC,YAAY,CAAC,GAAGzC,QAAQ,CAACU,SAAS,CAAC;EAErD,IAAIgC,UAAU;EAEdzC,SAAS,CAAC,MAAI;IACZ,IAAGY,QAAQ,EAAE8B,YAAY,CAAC,CAAC;EAC7B,CAAC,EAAC,CAACP,KAAK,EAAEvB,QAAQ,CAAC,CAAC;;EAEpB;EACA,MAAM8B,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;MAClC,MAAMC,MAAM,GAAG,GAAGtC,QAAQ,wBAAwB2B,KAAK,QAAQQ,KAAK,YAAY/B,QAAQ,CAAC,SAAS,CAAC,EAAE;MAErG,MAAMmC,QAAQ,GAAG,MAAMC,KAAK,CAACF,MAAM,CAAC;MACpC,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClC,MAAMC,QAAQ,GAAGF,IAAI,CAACG,KAAK;MAE3BpB,OAAO,CAACqB,GAAG,CAACJ,IAAI,CAAC,kBAAkB,CAAC,CAAC;MAErC,IAAGA,IAAI,CAAC,cAAc,CAAC,EAAE;QACrB,MAAMK,IAAI,GAAGL,IAAI;QACjB,OAAOK,IAAI,CAAC,OAAO,CAAC;QACpBhB,UAAU,CAACgB,IAAI,CAAC;MACpB;MACA,IAAGC,MAAM,CAACC,IAAI,CAACL,QAAQ,CAAC,CAACM,MAAM,IAAI,CAAC,EAAC;QACnCjB,YAAY,CAAC/B,SAAS,CAAC;QACvB;MACF;MAAC;MAED,IAAIiD,KAAK,GAAG,CAAC,CAAC;MACd,IAAGvB,KAAK,KAAG,IAAI,EAAC;QACd,MAAMI,SAAS,GAAGoB,iBAAiB,CAACR,QAAQ,CAACR,KAAK,CAAC,CAAC;;QAEpD;QACA,MAAMiB,KAAK,GAAG;UACZC,IAAI,EAAE,CAAC;UACPC,IAAI,EAAE,UAAU;UAChBC,SAAS,EAAG,GAAG;UACfC,KAAK,EAAE;QACT,CAAC;QACDzB,SAAS,CAAC0B,OAAO,CAACL,KAAK,CAAC;QAExB,IAAIM,KAAK,GAAG,CAAC,GAAG,IAAIC,GAAG,CAAC5B,SAAS,CAAC6B,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC/DH,KAAK,GAAGA,KAAK,CAACI,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKC,QAAQ,CAACF,CAAC,CAAC,GAAGE,QAAQ,CAACD,CAAC,CAAC,CAAC;QACvDN,KAAK,CAACQ,IAAI,CAAC,CAACD,QAAQ,CAACP,KAAK,CAACA,KAAK,CAACT,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEkB,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAE/ElB,KAAK,GAAG;UACNQ,KAAK,EAAEA,KAAK;UACZd,KAAK,EAAEb;QACT,CAAC;MAEH,CAAC,MAAM;QACL,MAAM2B,KAAK,GAAGX,MAAM,CAACC,IAAI,CAACL,QAAQ,CAAC;QAEnC,IAAI0B,cAAc,GAAG,EAAE;QACvBX,KAAK,CAACY,OAAO,CAAEC,GAAG,IAAG;UACnBF,cAAc,CAACH,IAAI,CAAC,GAAGvB,QAAQ,CAAC4B,GAAG,CAAC,CAAC;QACvC,CAAC,CAAC;QACFb,KAAK,CAACD,OAAO,CAAC,CAAC,CAAC;QAEhB,MAAM1B,SAAS,GAAGyC,sBAAsB,CAACH,cAAc,CAAC;;QAExD;QACA,MAAMjB,KAAK,GAAG;UACZC,IAAI,EAAE,CAAC;UACPC,IAAI,EAAE,UAAU;UAChBC,SAAS,EAAG,CAAC;UACbC,KAAK,EAAE;QACT,CAAC;QACDzB,SAAS,CAAC0B,OAAO,CAACL,KAAK,CAAC;QAExBF,KAAK,GAAG;UACNQ,KAAK,EAAEA,KAAK;UACZd,KAAK,EAAEb;QACT,CAAC;MACH;MAEAC,YAAY,CAACkB,KAAK,CAAC;MACnB;IACF,CAAC,CAAC,OAAO3B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD;EACF,CAAC;EAID,SAAS4B,iBAAiBA,CAACR,QAAQ,EAAE;IACnC,IAAI8B,KAAK,GAAG,CAAC;IACb,IAAIC,QAAQ,GAAG,CAAC;IAChB,OAAO/B,QAAQ,CAACiB,GAAG,CAACC,IAAI,IAAI;MAC1B,MAAMc,IAAI,GAAG,IAAIvC,IAAI,CAACyB,IAAI,CAACe,SAAS,CAAC;MACrC,MAAMC,KAAK,GAAGF,IAAI,CAACG,QAAQ,CAAC,CAAC;MAC7B,MAAMC,OAAO,GAAGJ,IAAI,CAACK,UAAU,CAAC,CAAC;MACjC,MAAMC,OAAO,GAAGN,IAAI,CAACO,UAAU,CAAC,CAAC;MAEjC,IAAGR,QAAQ,KAAKG,KAAK,EAAC;QAClBJ,KAAK,EAAE;QACPC,QAAQ,GAAGG,KAAK;MACpB;MAAC;MAED,OAAO;QACLxB,IAAI,EAAEwB,KAAK,CAACV,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;QACvCd,IAAI,EAAEqB,IAAI,CAACQ,kBAAkB,CAAC,OAAO,EAAG;UAAEC,MAAM,EAAE;QAAM,CAAC,CAAC;QAC1D7B,SAAS,EAAG8B,UAAU,CAAC,GAAGZ,KAAK,IAAK,CAACI,KAAK,GAAGE,OAAO,GAAG,EAAE,GAAGE,OAAO,GAAG,IAAI,EAAEK,OAAO,CAAC,CAAC,CAAC,CAAEC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACxG/B,KAAK,EAAEK,IAAI,CAACL;MACd,CAAC;IACH,CAAC,CAAC;EACJ;EAGA,SAASgB,sBAAsBA,CAAC7B,QAAQ,EAAE;IACxC,IAAI8B,KAAK,GAAG,CAAC,CAAC;IACd,IAAIe,OAAO,GAAG,IAAI;IAElB,OAAO7C,QAAQ,CAACiB,GAAG,CAACC,IAAI,IAAI;MAC1B,MAAMc,IAAI,GAAG,IAAIvC,IAAI,CAACyB,IAAI,CAACe,SAAS,CAAC;MACrC,MAAML,GAAG,GAAGI,IAAI,CAACtC,OAAO,CAAC,CAAC;MAE1B,IAAImD,OAAO,KAAKjB,GAAG,EAAE;QACnBE,KAAK,EAAE;QACPe,OAAO,GAAGjB,GAAG;MACf;MAEA,MAAMM,KAAK,GAAGF,IAAI,CAACG,QAAQ,CAAC,CAAC;MAC7B,MAAMC,OAAO,GAAGJ,IAAI,CAACK,UAAU,CAAC,CAAC;MACjC,MAAMC,OAAO,GAAGN,IAAI,CAACO,UAAU,CAAC,CAAC;MAEjC,MAAMO,YAAY,GAAG,CAACZ,KAAK,GAAGE,OAAO,GAAG,EAAE,GAAGE,OAAO,GAAG,IAAI,IAAI,EAAE;MAEjE,OAAO;QACL5B,IAAI,EAAEkB,GAAG,CAACJ,QAAQ,CAAC,CAAC;QACpBb,IAAI,EAAEqB,IAAI,CAACQ,kBAAkB,CAAC,OAAO,EAAE;UAAEC,MAAM,EAAE;QAAM,CAAC,CAAC;QACzD7B,SAAS,EAAE8B,UAAU,CAAC,GAAGZ,KAAK,IAAKgB,YAAY,CAACH,OAAO,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC;QAC5E/B,KAAK,EAAEK,IAAI,CAACL;MACd,CAAC;IACH,CAAC,CAAC;EACJ;;EAGE;EACA,MAAMlC,iBAAiB,GAAIoE,KAAK,IAAK;IACnC,IAAI,CAACA,KAAK,EAAE;IACZ,IAAI;MACF,MAAMC,OAAO,GAAGhG,SAAS,CAAC+F,KAAK,CAAC;MAChC,MAAME,UAAU,GAAGD,OAAO,CAACE,GAAG,GAAG,IAAI,CAAC,CAAC;MACvChF,cAAc,CAAC+E,UAAU,CAAC;IAC5B,CAAC,CAAC,OAAOrE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACxC;EACF,CAAC;;EAED;EACA/B,SAAS,CAAC,MAAM;IACd,IAAI,CAACoB,WAAW,EAAE;IAElB,MAAMkF,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjC,MAAMC,GAAG,GAAG5D,IAAI,CAAC4D,GAAG,CAAC,CAAC;MACtB,IAAIA,GAAG,IAAIpF,WAAW,EAAE;QACtBG,WAAW,CAAC,SAAS,CAAC;QACtBkF,aAAa,CAACH,QAAQ,CAAC;MACzB,CAAC,MAAM;QACL,MAAMI,aAAa,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAACxF,WAAW,GAAGoF,GAAG,IAAI,IAAI,CAAC;QAC7D,MAAMjB,OAAO,GAAGoB,IAAI,CAACE,KAAK,CAACH,aAAa,GAAG,EAAE,CAAC;QAC9C,MAAMjB,OAAO,GAAGkB,IAAI,CAACE,KAAK,CAACH,aAAa,GAAG,EAAE,CAAC;QAC9CnF,WAAW,CAAC,GAAGgE,OAAO,KAAKE,OAAO,GAAG,CAAC;MACxC;IACF,CAAC,EAAE,IAAI,CAAC;IAER,OAAO,MAAMgB,aAAa,CAACH,QAAQ,CAAC;EACtC,CAAC,EAAE,CAAClF,WAAW,CAAC,CAAC;EAEjB,MAAM0F,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI,CAACnF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;MAClC,MAAMmF,KAAK,CAAC,qBAAqB,CAAC;MAClCC,MAAM,CAACC,IAAI,CAAC,mBAAmB,CAAC;MAChC;IACF,CAAC,MAAM,IAAI/F,WAAW,EAAE;MACtBgG,SAAS,CAACC,SAAS,CAACC,SAAS,CAAClG,WAAW,CAAC;IAC5C,CAAC,MAAM;MACL;;MAEA;MACA,MAAMmG,GAAG,GAAG,GAAG7G,QAAQ,0BAA0BI,QAAQ,CAAC,SAAS,CAAC,EAAE;MAEtE,IAAI;QACF,MAAMmC,QAAQ,GAAG,MAAMC,KAAK,CAACqE,GAAG,CAAC;QACjC,IAAI,CAACtE,QAAQ,CAACuE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC;QACpD,MAAMtE,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAClC,IAAI,CAACD,IAAI,CAAC,cAAc,CAAC,EAAE,MAAM,IAAIsE,KAAK,CAAC,kBAAkB,CAAC;;QAE9D;QACApG,cAAc,CAAC8B,IAAI,CAAC,cAAc,CAAC,CAAC;QAEpCtB,YAAY,CAAC6F,OAAO,CAAC,QAAQ,EAAE/F,IAAI,CAACgG,SAAS,CAAC;UAC5C,GAAGhG,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;UACrD,cAAc,EAAEqB,IAAI,CAAC,cAAc;QACrC,CAAC,CAAC,CAAC;QAEH,OAAO;UAAElB,KAAK,EAAE,IAAI;UAAEmE,KAAK,EAAEjD,IAAI,CAAC,cAAc;QAAE,CAAC;MACrD,CAAC,CAAC,OAAOlB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACpD,OAAO;UAAEA,KAAK,EAAE;QAA+B,CAAC;MAClD;IACF;EACF,CAAC;EAED,MAAM2F,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,MAAMX,KAAK,CAAC,6BAA6B,CAAC;IAC1C,MAAMY,aAAa,GAAGX,MAAM,CAACC,IAAI,CAAC,kBAAkB,EAAE,QAAQ,CAAC;IAC/D,MAAMW,eAAe,GAAGrB,WAAW,CAAC,MAAM;MACxC,IAAIoB,aAAa,CAACE,MAAM,EAAE;QACxBpB,aAAa,CAACmB,eAAe,CAAC;QAC9BZ,MAAM,CAACc,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC1B;IACF,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,oBACExH,OAAA;IAAKyH,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBAC/B1H,OAAA;MAAA0H,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAGvB9H,OAAA;MAAKyH,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B1H,OAAA;QAAA0H,QAAA,EAAI;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC3BzH,QAAQ,gBACPL,OAAA;QAAA0H,QAAA,gBACE1H,OAAA;UAAA0H,QAAA,gBAAI1H,OAAA;YAAA0H,QAAA,EAAQ;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACzH,QAAQ,CAAC0H,QAAQ;QAAA;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACvD9H,OAAA;UAAA0H,QAAA,gBAAI1H,OAAA;YAAA0H,QAAA,EAAQ;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACzH,QAAQ,CAAC2H,KAAK;QAAA;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACjD9H,OAAA;UAAA0H,QAAA,gBAAI1H,OAAA;YAAA0H,QAAA,EAAQ;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACzH,QAAQ,CAAC,SAAS,CAAC;QAAA;UAAAsH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtD,CAAC,gBAEL9H,OAAA;QAAGyH,SAAS,EAAC,OAAO;QAAAC,QAAA,GAAC,sBAAoB,eAAA1H,OAAA;UAAGiI,IAAI,EAAC,QAAQ;UAAAP,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAC9E;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN9H,OAAA;MAAKyH,SAAS,EAAC,0BAA0B;MAAAC,QAAA,gBACvC1H,OAAA;QAAA0H,QAAA,EAAI;MAAsB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC9BvH,WAAW,gBACVP,OAAA;QAAA0H,QAAA,gBACE1H,OAAA;UAAA0H,QAAA,gBAAI1H,OAAA;YAAA0H,QAAA,EAAQ;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,WAAE,EAACvH,WAAW,CAAC2H,MAAM,IAAI,KAAK;QAAA;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAChE9H,OAAA;UAAA0H,QAAA,gBAAI1H,OAAA;YAAA0H,QAAA,EAAQ;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAAC,IAAIzF,IAAI,CAAC9B,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC4H,cAAc,CAAC,CAAC;QAAA;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACrF9H,OAAA;UAAA0H,QAAA,gBAAI1H,OAAA;YAAA0H,QAAA,EAAQ;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACvH,WAAW,CAAC,gBAAgB,CAAC;QAAA;UAAAoH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvE,CAAC,gBAEL9H,OAAA;QAAGyH,SAAS,EAAC,OAAO;QAAAC,QAAA,GAAC,yBACI,eAAA1H,OAAA;UAAQoI,KAAK,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,KAAK,EAAE,MAAM;YAAEC,cAAc,EAAE;UAAY,CAAE;UAACC,OAAO,EAAErB,WAAY;UAAAO,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9I,CACJ;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN9H,OAAA;MAAKyH,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBACxC1H,OAAA;QAAMoI,KAAK,EAAE;UAAEK,KAAK,EAAE,MAAM;UAAEC,QAAQ,EAAE,MAAM;UAAEJ,KAAK,EAAEvH,QAAQ,KAAK,SAAS,GAAG,KAAK,GAAG,OAAO;UAAE4H,UAAU,EAAE;QAAO,CAAE;QAAAjB,QAAA,GAAC,WAAS,EAAC3G,QAAQ,IAAI,KAAK;MAAA;QAAA4G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC1J9H,OAAA;QAAA0H,QAAA,EAAI;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtB9H,OAAA;QAAA0H,QAAA,EAAIjH,SAAS,GAAGA,SAAS,GAAG;MAA6B;QAAAkH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE9D9H,OAAA;QACEyH,SAAS,EAAC,cAAc;QACxBe,OAAO,EAAE,MAAAA,CAAA,KAAY;UACnB,MAAMI,MAAM,GAAG,MAAM/I,iBAAiB,CAACY,SAAS,CAAC;UACjDC,YAAY,CAACkI,MAAM,CAACjD,KAAK,CAAC;UAC1BpE,iBAAiB,CAACqH,MAAM,CAACjD,KAAK,CAAC;UAC/BgB,SAAS,CAACC,SAAS,CAACC,SAAS,CAAC+B,MAAM,CAACjD,KAAK,CAAC;QAC7C,CAAE;QAAA+B,QAAA,EAED3G,QAAQ,KAAK,SAAS,GAAG,kBAAkB,GAAIN,SAAS,GAAG,YAAY,GAAG;MAAiB;QAAAkH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGN9H,OAAA;MAAKyH,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBACxC1H,OAAA;QAAA0H,QAAA,EAAI;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxB9H,OAAA;QAAA0H,QAAA,EAAI/G,WAAW,GAAGA,WAAW,GAAG;MAA+B;QAAAgH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEpE9H,OAAA;QAAKoI,KAAK,EAAE;UAAES,GAAG,EAAE;QAAM,CAAE;QAACpB,SAAS,EAAC,eAAe;QAAAC,QAAA,gBACnD1H,OAAA;UAAQyH,SAAS,EAAC,cAAc;UAACe,OAAO,EAAEjC,mBAAoB;UAAAmB,QAAA,EAC3D/G,WAAW,GAAG,YAAY,GAAG;QAAkB;UAAAgH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,EAERnH,WAAW,gBAAIX,OAAA;UAAQwI,OAAO,EAAEA,CAAA,KAAM/B,MAAM,CAACC,IAAI,CAAC,2BAA2B,CAAE;UAACe,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EAClHnH,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAE2H,MAAM,GAAI,CAAA3H,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE2H,MAAM,IAAG,CAAC,GAAG,cAAc,GAAG,WAAW,GAAI;QAAc;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1F,CAAC,GAAI,EAAE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAId9H,OAAA;MAAKyH,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACpB1H,OAAA;QAAKyH,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B1H,OAAA;UAAA0H,QAAA,EAAI;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvB9H,OAAA;UAAQyH,SAAS,EAAC,aAAa;UAACe,OAAO,EAAEA,CAAA,KAAI;YAACrG,YAAY,CAAC,CAAC;UAAA,CAAE;UAAC2G,KAAK,EAAC,SAAS;UAAApB,QAAA,eAC5E1H,OAAA,CAACL,SAAS;YAACoJ,IAAI,EAAE,EAAG;YAACC,WAAW,EAAE;UAAI;YAAArB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGN9H,OAAA;QAAKyH,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzB1H,OAAA;UAAKyH,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB1H,OAAA;YAAA0H,QAAA,EAAM;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC1B9H,OAAA;YAAA0H,QAAA,EAAO5F,OAAO,CAAC,cAAc;UAAC;YAAA6F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,eAEN9H,OAAA;UAAKyH,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B1H,OAAA;YAAA0H,QAAA,gBACE1H,OAAA;cAAA0H,QAAA,EAAM;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,KAAC,eAAA9H,OAAA;cAAA0H,QAAA,EAAS,IAAIrF,IAAI,CAACP,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAACmH,kBAAkB,CAAC,OAAO;YAAC;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxG,CAAC,eACN9H,OAAA;YAAA0H,QAAA,gBACE1H,OAAA;cAAA0H,QAAA,EAAM;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,KAAC,eAAA9H,OAAA;cAAA0H,QAAA,EAAS,IAAIrF,IAAI,CAACP,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAACsD,kBAAkB,CAAC;YAAC;cAAAuC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN9H,OAAA;UAAKyH,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B1H,OAAA;YAAA0H,QAAA,gBACE1H,OAAA;cAAA0H,QAAA,EAAM;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,KAAC,eAAA9H,OAAA;cAAA0H,QAAA,EAAS,IAAIrF,IAAI,CAACP,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAACmH,kBAAkB,CAAC,OAAO;YAAC;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1G,CAAC,eACN9H,OAAA;YAAA0H,QAAA,gBACE1H,OAAA;cAAA0H,QAAA,EAAM;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,KAAC,eAAA9H,OAAA;cAAA0H,QAAA,EAAS,IAAIrF,IAAI,CAACP,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAACsD,kBAAkB,CAAC;YAAC;cAAAuC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEH,CAAC,eAEN9H,OAAA;QAAKyH,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzB1H,OAAA;UAAKyH,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC1H,OAAA;YAAA0H,QAAA,EAAM;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,KAAC,eAAA9H,OAAA;YAAA0H,QAAA,EAAQ;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,eAEN9H,OAAA;UAAKyH,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC1H,OAAA;YAAA0H,QAAA,EAAM;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,KAAC,eAAA9H,OAAA;YAAA0H,QAAA,EAAS5F,OAAO,CAAC2B;UAAK;YAAAkE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC,eAEN9H,OAAA;UAAKyH,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC1H,OAAA;YAAA0H,QAAA,EAAM;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,KAAC,eAAA9H,OAAA;YAAA0H,QAAA,EAAS,IAAI,IAAE5F,OAAO,CAAC2B,KAAK,IAAI,CAAC;UAAC;YAAAkE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN9H,OAAA;QAAKyH,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B1H,OAAA;UAAQwI,OAAO,EAAEA,CAAA,KAAM3G,QAAQ,CAAC,IAAI,CAAE;UAAC4F,SAAS,EAAE7F,KAAK,KAAK,IAAI,GAAG,QAAQ,GAAG,EAAG;UAAA8F,QAAA,EAAC;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC9F9H,OAAA;UAAQwI,OAAO,EAAEA,CAAA,KAAM3G,QAAQ,CAAC,IAAI,CAAE;UAAC4F,SAAS,EAAE7F,KAAK,KAAK,IAAI,GAAG,QAAQ,GAAG,EAAG;UAAA8F,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC/F9H,OAAA;UAAQwI,OAAO,EAAEA,CAAA,KAAM3G,QAAQ,CAAC,IAAI,CAAE;UAAC4F,SAAS,EAAE7F,KAAK,KAAK,IAAI,GAAG,QAAQ,GAAG,EAAG;UAAA8F,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7F,CAAC,eAEN9H,OAAA;QAAKyH,SAAS,EAAC,OAAO;QAAAC,QAAA,gBACpB1H,OAAA;UAAA0H,QAAA,GAAI,aAAW,EAAC9F,KAAK,EAAC,GAAC;QAAA;UAAA+F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAE5B9H,OAAA,CAACF,UAAU;UAAC4C,IAAI,EAAEV;QAAU;UAAA2F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAE5B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGD,CAAC;AAEV,CAAC;AAAC1H,EAAA,CArYID,SAAS;AAAA+I,EAAA,GAAT/I,SAAS;AAuYf,eAAeA,SAAS;AAAC,IAAA+I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
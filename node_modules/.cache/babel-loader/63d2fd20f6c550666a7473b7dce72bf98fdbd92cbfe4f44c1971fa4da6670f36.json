{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\projects\\\\jWTFcm\\\\clients\\\\pushnotify.api\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Sidebar from \"../components/Sidebar\";\nimport Footer from \"../components/Footer\";\nimport { jwtDecode } from \"jwt-decode\";\nimport generateTestToken from \"../functions/generateTestToken\";\nimport \"../styles/Dashboard.scss\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [userData, setUserData] = useState(null);\n  const [transaction, setTransaction] = useState(null);\n  const [testToken, setTestToken] = useState(\"\");\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [tokenExpiry, setTokenExpiry] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(\"\");\n  useEffect(() => {\n    try {\n      const storedData = JSON.parse(localStorage.getItem(\"creds\"));\n      const transactionData = JSON.parse(localStorage.getItem(\"t_data\"));\n      if (storedData) setUserData(storedData);\n      if (transactionData) {\n        if (transactionData[\"transaction-id\"]) {\n          setTransaction(transactionData);\n        }\n        if (transactionData[\"access-token\"]) setAccessToken(transactionData[\"access-token\"]);\n        setTestToken(transactionData[\"test-token\"]);\n        updateTokenExpiry(transactionData[\"test-token\"]);\n      }\n    } catch (error) {\n      console.error(\"Error parsing local storage data:\", error);\n    }\n  }, []);\n\n  // Function to update token expiry & start timer\n  const updateTokenExpiry = token => {\n    if (!token) return;\n    try {\n      const decoded = jwtDecode(token);\n      const expiryTime = decoded.exp * 1000; // Convert to milliseconds\n      setTokenExpiry(expiryTime);\n    } catch (error) {\n      console.error(\"Invalid token:\", error);\n    }\n  };\n\n  // Timer Effect\n  useEffect(() => {\n    if (!tokenExpiry) return;\n    const interval = setInterval(() => {\n      const now = Date.now();\n      if (now >= tokenExpiry) {\n        setTimeLeft(\"Expired\");\n        clearInterval(interval);\n      } else {\n        const remainingTime = Math.max(0, (tokenExpiry - now) / 1000);\n        const minutes = Math.floor(remainingTime / 60);\n        const seconds = Math.floor(remainingTime % 60);\n        setTimeLeft(`${minutes}m ${seconds}s`);\n      }\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [tokenExpiry]);\n  const generateAccessToken = async () => {\n    if (!localStorage.getItem(\"creds\")) {\n      await alert(\"Please login first.\");\n      window.open(\"/login?close=auto\");\n      return;\n    } else if (accessToken) {\n      navigator.clipboard.writeText(accessToken);\n    } else {\n      //get access token\n\n      // Construct URL for generating a new test token        \n      const BASE_URL = \"https://inlmqkmxchdb5df6t3gjdqzpqi0jrfmc.lambda-url.eu-north-1.on.aws/\";\n      const url = `${BASE_URL}?req=access-token&user=${userData[\"user-id\"]}`;\n      try {\n        const response = await fetch(url);\n        if (!response.ok) throw new Error(\"Failed to fetch\");\n        const data = await response.json();\n        if (!data[\"access-token\"]) throw new Error(\"Invalid response\");\n\n        // Save new test token in local storage        \n        setAccessToken(data[\"access-token\"]);\n        localStorage.setItem(\"t_data\", JSON.stringify({\n          ...JSON.parse(localStorage.getItem(\"t_data\") || \"{}\"),\n          \"access-token\": data[\"access-token\"]\n        }));\n        return {\n          error: null,\n          token: data[\"access-token\"]\n        };\n      } catch (error) {\n        console.error(\"Error fetching access token:\", error);\n        return {\n          error: \"Failed to fetch access token\"\n        };\n      }\n    }\n  };\n  const makePayment = async () => {\n    await alert(\"Redirecting to Payment Page\");\n    const paymentWindow = window.open(\"/payment?close=auto\", \"_blank\");\n    const checkPageClosed = setInterval(() => {\n      if (paymentWindow.closed) {\n        clearInterval(checkPageClosed);\n        window.location.reload();\n      }\n    }, 500);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      toggleSidebar: () => setSidebarOpen(!isSidebarOpen)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: isSidebarOpen,\n      toggleSidebar: () => setSidebarOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"User Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-info card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDC64 User Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), userData ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Username:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 19\n            }, this), \" \", userData.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }, this), \" \", userData.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"User ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 19\n            }, this), \" \", userData[\"user-id\"]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: [\"No user data found. \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/login\",\n            children: \"Please login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 54\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"transaction-history card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCB3 Transaction History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), transaction ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this), \" \\u20B9\", transaction.amount || \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this), \" \", new Date(transaction[\"timestamp\"]).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Transaction ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this), \" \", transaction[\"transaction-id\"]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: [\"No transactions found. \", /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              all: \"unset\",\n              color: \"blue\",\n              textDecoration: \"underline\"\n            },\n            onClick: makePayment,\n            children: \"Make Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"access-token-section card\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            float: \"left\",\n            fontSize: \"14px\",\n            color: timeLeft === \"Expired\" ? \"red\" : \"green\",\n            fontWeight: \"bold\"\n          },\n          children: [\"Expiry : \", timeLeft || \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDD11 Test Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: testToken ? testToken : \"No test token generated yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"generate-btn\",\n          onClick: async () => {\n            const result = await generateTestToken(testToken);\n            setTestToken(result.token);\n            updateTokenExpiry(result.token);\n            navigator.clipboard.writeText(result.token);\n          },\n          children: timeLeft === \"Expired\" ? \"Regenerate Token\" : testToken ? \"Copy Token\" : \"Generate Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"access-token-section card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDD11 Access Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: accessToken ? accessToken : \"No access token generated yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            gap: \"8px\"\n          },\n          className: \"flex jcc aic \",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"generate-btn\",\n            onClick: generateAccessToken,\n            children: accessToken ? \"Copy Token\" : \"Get Access Token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), accessToken ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.open(\"/payment?close=auto\"),\n            className: \"buy-premium generate-btn\",\n            disabled: transaction !== null && transaction !== void 0 && transaction.amount ? (transaction === null || transaction === void 0 ? void 0 : transaction.amount) >= 299 ? true : false : false,\n            children: transaction !== null && transaction !== void 0 && transaction.amount ? (transaction === null || transaction === void 0 ? void 0 : transaction.amount) < 299 ? \"Extend Limit\" : \"Quota Unlimited\" : \"Extend Limit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 29\n          }, this) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Dashboard, \"NNntEk7JQjTA6GXU6ZM3ayjPMrA=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Navbar","Sidebar","Footer","jwtDecode","generateTestToken","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","userData","setUserData","transaction","setTransaction","testToken","setTestToken","accessToken","setAccessToken","tokenExpiry","setTokenExpiry","timeLeft","setTimeLeft","storedData","JSON","parse","localStorage","getItem","transactionData","updateTokenExpiry","error","console","token","decoded","expiryTime","exp","interval","setInterval","now","Date","clearInterval","remainingTime","Math","max","minutes","floor","seconds","generateAccessToken","alert","window","open","navigator","clipboard","writeText","BASE_URL","url","response","fetch","ok","Error","data","json","setItem","stringify","makePayment","paymentWindow","checkPageClosed","closed","location","reload","children","toggleSidebar","setSidebarOpen","isSidebarOpen","fileName","_jsxFileName","lineNumber","columnNumber","isOpen","className","username","email","href","amount","toLocaleString","style","all","color","textDecoration","onClick","float","fontSize","fontWeight","result","gap","disabled","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/projects/jWTFcm/clients/pushnotify.api/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Sidebar from \"../components/Sidebar\";\nimport Footer from \"../components/Footer\";\nimport { jwtDecode } from \"jwt-decode\";\nimport generateTestToken from \"../functions/generateTestToken\";\nimport \"../styles/Dashboard.scss\";\n\nconst Dashboard = () => {\n  const [userData, setUserData] = useState(null);\n  const [transaction, setTransaction] = useState(null);\n  const [testToken, setTestToken] = useState(\"\");\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [tokenExpiry, setTokenExpiry] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(\"\");\n\n  useEffect(() => {\n    try {\n      const storedData = JSON.parse(localStorage.getItem(\"creds\"));\n      const transactionData = JSON.parse(localStorage.getItem(\"t_data\"));\n\n      if (storedData) setUserData(storedData);\n      if (transactionData) {\n        if (transactionData[\"transaction-id\"]) {\n          setTransaction(transactionData);\n        }\n        if (transactionData[\"access-token\"]) setAccessToken(transactionData[\"access-token\"]);\n        setTestToken(transactionData[\"test-token\"]);\n        updateTokenExpiry(transactionData[\"test-token\"]);\n      }\n    } catch (error) {\n      console.error(\"Error parsing local storage data:\", error);\n    }\n  }, []);\n\n  // Function to update token expiry & start timer\n  const updateTokenExpiry = (token) => {\n    if (!token) return;\n    try {\n      const decoded = jwtDecode(token);\n      const expiryTime = decoded.exp * 1000; // Convert to milliseconds\n      setTokenExpiry(expiryTime);\n    } catch (error) {\n      console.error(\"Invalid token:\", error);\n    }\n  };\n\n  // Timer Effect\n  useEffect(() => {\n    if (!tokenExpiry) return;\n\n    const interval = setInterval(() => {\n      const now = Date.now();\n      if (now >= tokenExpiry) {\n        setTimeLeft(\"Expired\");\n        clearInterval(interval);\n      } else {\n        const remainingTime = Math.max(0, (tokenExpiry - now) / 1000);\n        const minutes = Math.floor(remainingTime / 60);\n        const seconds = Math.floor(remainingTime % 60);\n        setTimeLeft(`${minutes}m ${seconds}s`);\n      }\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [tokenExpiry]);\n\n  const generateAccessToken = async () => {\n    if (!localStorage.getItem(\"creds\")) {\n      await alert(\"Please login first.\");\n      window.open(\"/login?close=auto\");\n      return;\n    } else if (accessToken) {\n      navigator.clipboard.writeText(accessToken);\n    } else {\n      //get access token\n\n      // Construct URL for generating a new test token        \n      const BASE_URL = \"https://inlmqkmxchdb5df6t3gjdqzpqi0jrfmc.lambda-url.eu-north-1.on.aws/\";\n      const url = `${BASE_URL}?req=access-token&user=${userData[\"user-id\"]}`;\n\n      try {\n        const response = await fetch(url);\n        if (!response.ok) throw new Error(\"Failed to fetch\");\n        const data = await response.json();\n        if (!data[\"access-token\"]) throw new Error(\"Invalid response\");\n\n        // Save new test token in local storage        \n        setAccessToken(data[\"access-token\"]);\n\n        localStorage.setItem(\"t_data\", JSON.stringify({\n          ...JSON.parse(localStorage.getItem(\"t_data\") || \"{}\"),\n          \"access-token\": data[\"access-token\"]\n        }));\n\n        return { error: null, token: data[\"access-token\"] };\n      } catch (error) {\n        console.error(\"Error fetching access token:\", error);\n        return { error: \"Failed to fetch access token\" };\n      }\n    }\n  };\n\n  const makePayment = async () => {\n    await alert(\"Redirecting to Payment Page\");\n    const paymentWindow = window.open(\"/payment?close=auto\", \"_blank\");\n    const checkPageClosed = setInterval(() => {\n      if (paymentWindow.closed) {\n        clearInterval(checkPageClosed);\n        window.location.reload();\n      }\n    }, 500);\n  };\n\n  return (\n    <>\n      <Navbar toggleSidebar={() => setSidebarOpen(!isSidebarOpen)} />\n      <Sidebar isOpen={isSidebarOpen} toggleSidebar={() => setSidebarOpen(false)} />\n\n      <div className=\"dashboard\">\n        <h2>User Dashboard</h2>\n\n        {/* User Info */}\n        <div className=\"user-info card\">\n          <h3>ðŸ‘¤ User Information</h3>\n          {userData ? (\n            <ul>\n              <li><strong>Username:</strong> {userData.username}</li>\n              <li><strong>Email:</strong> {userData.email}</li>\n              <li><strong>User ID:</strong> {userData[\"user-id\"]}</li>\n            </ul>\n          ) : (\n            <p className=\"error\">No user data found. <a href=\"/login\">Please login</a></p>\n          )}\n        </div>\n\n        {/* Transaction History */}\n        <div className=\"transaction-history card\">\n          <h3>ðŸ’³ Transaction History</h3>\n          {transaction ? (\n            <ul>\n              <li><strong>Amount:</strong> â‚¹{transaction.amount || \"N/A\"}</li>\n              <li><strong>Time:</strong> {new Date(transaction[\"timestamp\"]).toLocaleString()}</li>\n              <li><strong>Transaction ID:</strong> {transaction[\"transaction-id\"]}</li>\n            </ul>\n          ) : (\n            <p className=\"error\">\n              No transactions found. <button style={{ all: \"unset\", color: \"blue\", textDecoration: \"underline\" }} onClick={makePayment}>Make Payment</button>\n            </p>\n          )}\n        </div>\n\n        {/* Test Token Section */}\n        <div className=\"access-token-section card\">\n          <span style={{ float: \"left\", fontSize: \"14px\", color: timeLeft === \"Expired\" ? \"red\" : \"green\", fontWeight: \"bold\" }}>Expiry : {timeLeft || \"...\"}</span>\n          <h3>ðŸ”‘ Test Token</h3>\n          <p>{testToken ? testToken : \"No test token generated yet\"}</p>\n\n          <button\n            className=\"generate-btn\"\n            onClick={async () => {\n              const result = await generateTestToken(testToken);\n              setTestToken(result.token);\n              updateTokenExpiry(result.token);\n              navigator.clipboard.writeText(result.token);\n            }}\n          >\n            {timeLeft === \"Expired\" ? \"Regenerate Token\" : (testToken ? \"Copy Token\" : \"Generate Token\")}\n          </button>\n        </div>\n\n        {/* Access Token Section */}\n        <div className=\"access-token-section card\">\n          <h3>ðŸ”‘ Access Token</h3>\n          <p>{accessToken ? accessToken : \"No access token generated yet\"}</p>\n\n          <div style={{ gap: \"8px\" }} className=\"flex jcc aic \">\n            <button className=\"generate-btn\" onClick={generateAccessToken}>\n              {accessToken ? \"Copy Token\" : \"Get Access Token\"}\n            </button>\n\n            {accessToken ? (<button onClick={() => window.open(\"/payment?close=auto\")} className=\"buy-premium generate-btn\" disabled={ (transaction?.amount ? (transaction?.amount >= 299 ? true : false) : false) } >\n              {transaction?.amount ? (transaction?.amount < 299 ? \"Extend Limit\" : \"Quota Unlimited\") : \"Extend Limit\"}\n            </button>) : \"\"}\n          </div>\n        </div>\n\n      </div>\n\n      <Footer />\n    </>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
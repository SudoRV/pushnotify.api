{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/jWTFcm/clients/pushnotify.api/src/components/ApiStats.js\",\n  _s = $RefreshSig$();\nimport { LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid } from \"recharts\";\nimport { useRef, useEffect, useState } from \"react\";\nimport \"../styles/ApiStats.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UsageGraph = ({\n  data = {},\n  xKey = \"xKey\",\n  yKey = \"calls\"\n}) => {\n  _s();\n  var _containerRef$current, _containerRef$current2;\n  //format data \n  const xKeys = data.xKeys;\n  const usage = data.usage;\n  const containerRef = useRef(null);\n  const [containerWidth, setContainerWidth] = useState(0);\n\n  // Step 3: Resizing chart logic\n  useEffect(() => {\n    const updateWidth = () => {\n      if (containerRef.current) {\n        setContainerWidth(containerRef.current.offsetWidth);\n      }\n    };\n    updateWidth();\n    window.addEventListener(\"resize\", updateWidth);\n    return () => window.removeEventListener(\"resize\", updateWidth);\n  }, []);\n  const minBarWidth = 40;\n  const chartWidth = xKeys.length * minBarWidth < ((_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.offsetWidth) ? (_containerRef$current2 = containerRef.current) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.offsetWidth : xKeys.length * minBarWidth;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    style: {\n      width: \"100%\",\n      height: 220,\n      display: \"flex\",\n      background: \"#fff\",\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        width: 30,\n        height: 204,\n        overflow: \"hidden\",\n        zIndex: 100,\n        background: \"#fff\",\n        pointerEvents: \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        width: 30,\n        height: 220,\n        data: formattedData,\n        children: [/*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: xKey,\n          height: 16,\n          tick: {\n            fontSize: 12\n          },\n          style: {\n            display: \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          dataKey: yKey,\n          width: 24,\n          tick: {\n            fontSize: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: \"auto\",\n        overflowY: \"hidden\",\n        width: \"100%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: chartWidth\n        },\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          width: chartWidth,\n          height: 220,\n          data: formattedData,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\",\n            vertical: true,\n            horizontal: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: xKey,\n            type: \"number\",\n            domain: [0, xKyes.length - 1],\n            ticks: xKeys.map((_, i) => i),\n            tickFormatter: index => xKeys[index],\n            interval: 0,\n            height: 16,\n            tick: {\n              fontSize: 12\n            },\n            padding: {\n              left: 26.6,\n              right: chartWidth / (sortedHours.length + 1)\n            },\n            scale: \"linear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            hide: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            contentStyle: {\n              fontSize: 12\n            },\n            labelFormatter: (label, payload) => {\n              var _payload$, _payload$$payload;\n              const time = payload === null || payload === void 0 ? void 0 : (_payload$ = payload[0]) === null || _payload$ === void 0 ? void 0 : (_payload$$payload = _payload$.payload) === null || _payload$$payload === void 0 ? void 0 : _payload$$payload.time;\n              return `time: ${time || label}`;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: yKey,\n            stroke: \"#4f46e5\",\n            strokeWidth: 1.5,\n            dot: {\n              r: 2,\n              stroke: \"#4f46e5\",\n              strokeWidth: 1,\n              fill: \"#fff\"\n            },\n            activeDot: {\n              r: 3,\n              stroke: \"#4f46e5\",\n              strokeWidth: 1.5,\n              fill: \"#fff\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(UsageGraph, \"WWXhW68uxKMzVqQk+47gRzVnMJM=\");\n_c = UsageGraph;\nexport default UsageGraph;\nvar _c;\n$RefreshReg$(_c, \"UsageGraph\");","map":{"version":3,"names":["LineChart","Line","XAxis","YAxis","Tooltip","CartesianGrid","useRef","useEffect","useState","jsxDEV","_jsxDEV","UsageGraph","data","xKey","yKey","_s","_containerRef$current","_containerRef$current2","xKeys","usage","containerRef","containerWidth","setContainerWidth","updateWidth","current","offsetWidth","window","addEventListener","removeEventListener","minBarWidth","chartWidth","length","ref","style","width","height","display","background","position","children","top","left","overflow","zIndex","pointerEvents","formattedData","dataKey","tick","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","overflowX","overflowY","strokeDasharray","vertical","horizontal","type","domain","xKyes","ticks","map","_","i","tickFormatter","index","interval","padding","right","sortedHours","scale","hide","contentStyle","labelFormatter","label","payload","_payload$","_payload$$payload","time","stroke","strokeWidth","dot","r","fill","activeDot","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/jWTFcm/clients/pushnotify.api/src/components/ApiStats.js"],"sourcesContent":["import {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid,\n} from \"recharts\";\nimport { useRef, useEffect, useState } from \"react\";\nimport \"../styles/ApiStats.scss\";\n\nconst UsageGraph = ({ data = {}, xKey = \"xKey\", yKey = \"calls\" }) => {\n  \n  //format data \n  const xKeys = data.xKeys;\n  const usage = data.usage;\n\n  const containerRef = useRef(null);\n  const [containerWidth, setContainerWidth] = useState(0);  \n    \n  // Step 3: Resizing chart logic\n  useEffect(() => {\n    const updateWidth = () => {\n      if (containerRef.current) {\n        setContainerWidth(containerRef.current.offsetWidth);\n      }\n    };\n    updateWidth();\n    window.addEventListener(\"resize\", updateWidth);\n    return () => window.removeEventListener(\"resize\", updateWidth);\n  }, []);\n\n  const minBarWidth = 40;\n  const chartWidth = xKeys.length * minBarWidth < containerRef.current?.offsetWidth ? containerRef.current?.offsetWidth : xKeys.length * minBarWidth;     \n  \n  return (\n    <div\n      ref={containerRef}\n      style={{\n        width: \"100%\",\n        height: 220,\n        display: \"flex\",\n        background: \"#fff\",\n        position: \"relative\",        \n      }}\n    >\n      {/* Fixed Y-axis */}\n      <div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          width: 30,\n          height: 204,\n          overflow: \"hidden\",\n          zIndex: 100,\n          background: \"#fff\",\n          pointerEvents: \"none\",                                          \n        }}\n      >\n        <LineChart width={30} height={220} data={formattedData} >\n          \n          <XAxis dataKey={xKey} height={16} tick={{ fontSize: 12 }} style={{ display:\"none\" }} />\n          \n          <YAxis\n            dataKey={yKey}\n            width={24} \n                               \n            tick={{ fontSize: 12 }}             \n          />                    \n          \n        </LineChart>\n      </div>\n\n      {/* Scrollable chart */}\n      <div\n        style={{\n          overflowX: \"auto\",\n          overflowY:\"hidden\",\n          width: \"100%\",         \n        }}\n      >\n        <div style={{ width: chartWidth }}>\n          <LineChart width={chartWidth} height={220} data={formattedData}>\n            <CartesianGrid strokeDasharray=\"3 3\" vertical horizontal />\n\n            <XAxis\n              dataKey={xKey}\n              type=\"number\"\n              domain={[0, xKyes.length - 1]}\n              ticks={xKeys.map((_, i) => i)}                           \n              tickFormatter={(index) => xKeys[index]}\n              interval={0}              \n              height={16}\n              tick={{ fontSize: 12 }}\n              padding={{ left: 26.6, right: chartWidth/(sortedHours.length+1)}}\n              scale=\"linear\"\n            />                        \n\n            <YAxis hide />\n\n            <Tooltip\n  contentStyle={{ fontSize: 12 }}\n  labelFormatter={(label, payload) => {\n    const time = payload?.[0]?.payload?.time;\n    return `time: ${time || label}`;\n  }}\n/>\n\n            <Line\n              type=\"monotone\"\n              dataKey={yKey}\n              stroke=\"#4f46e5\"\n              strokeWidth={1.5}\n              dot={{\n                  r:2,\n                  stroke:\"#4f46e5\",\n                  strokeWidth: 1,\n                  fill:\"#fff\"\n              }}\n              activeDot={{\n                r: 3,\n                stroke: \"#4f46e5\",\n                strokeWidth: 1.5,\n                fill: \"#fff\",\n              }}\n            />\n          </LineChart>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UsageGraph;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}